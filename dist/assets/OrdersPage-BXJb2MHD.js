import{j as e,m as p,ai as h,aj as j,ak as u,P as f}from"./ui-B2_iPpHp.js";import{r as i,u as y}from"./vendor-x2D2W7aw.js";import{a as g,d as N}from"./index-Curh22mt.js";import{q as b,c as v,w as S,f as w,b as z}from"./firebase-DlhFiCg4.js";function T({currentTheme:c}){const[r,d]=i.useState([]),[m,o]=i.useState(!0),{currentUser:t}=g(),n=y();return i.useEffect(()=>{if(!t){n("/login");return}(async()=>{try{const s=b(v(N,"orders"),S("userId","==",t.uid),w("createdAt","desc")),x=(await z(s)).docs.map(l=>({id:l.id,...l.data()}));d(x)}catch(s){console.error("Siparişler getirilirken hata oluştu: ",s)}finally{o(!1)}})()},[t,n]),m?e.jsx("div",{className:"flex-grow flex justify-center items-center",children:e.jsx("p",{children:"Siparişler yükleniyor..."})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Siparişlerim"}),r.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Henüz hiç sipariş vermediniz."}),e.jsx("p",{className:"text-gray-600",children:"İlk maceranıza atılmak için ürünlerimizi keşfedin!"})]}):e.jsx("div",{className:"space-y-6",children:r.map(a=>e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center border-b pb-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(h,{size:14})," Sipariş ID"]}),e.jsx("p",{className:"font-mono text-sm",children:a.id})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(j,{size:14})," Sipariş Tarihi"]}),e.jsx("p",{className:"font-medium",children:new Date(a.createdAt?.toDate()).toLocaleDateString("tr-TR")})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(u,{size:14})," Toplam Tutar"]}),e.jsxs("p",{className:"font-bold text-lg",style:{color:c.primary},children:["₺",a.totalAmount.toFixed(2)]})]})]}),e.jsx("h4",{className:"font-semibold mb-3",children:"Sipariş İçeriği:"}),e.jsx("div",{className:"space-y-2",children:a.items.map(s=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("p",{children:[s.name," ",e.jsxs("span",{className:"text-gray-500",children:["x ",s.quantity]})]}),e.jsxs("p",{className:"font-medium",children:["₺",(s.price*s.quantity).toFixed(2)]})]},s.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[e.jsx(f,{size:16})," Durum: ",e.jsx("span",{className:"font-normal text-blue-600",children:a.status})]})})]},a.id))})]})}export{T as default};
